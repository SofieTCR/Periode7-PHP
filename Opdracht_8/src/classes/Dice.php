<?php
    namespace Opdracht8\classes;

    class Dice {
        private static int $numberSides;
        private static array $dotPositions = [
            [],
            [[75, 75]],
            [[50, 50], [100, 100]],
            [[50, 50], [75, 75], [100, 100]],
            [[50, 50], [50, 100], [100, 50], [100, 100]],
            [[50, 50], [50, 100], [75, 75], [100, 50], [100, 100]],
            [[50, 50], [50, 75], [50, 100], [100, 50], [100, 75], [100, 100]],
            [[50, 50], [50, 75], [50, 100], [100, 50], [100, 75], [100, 100], [75, 75]],
            [[50, 50], [50, 75], [50, 100], [100, 50], [100, 75], [100, 100], [75, 50], [75, 100]],
            [[50, 50], [50, 75], [50, 100], [100, 50], [100, 75], [100, 100], [75, 50], [75, 100], [75, 75]],
            [[25, 25], [25, 125], [125, 25], [125, 125], [50, 50], [50, 100], [100, 50], [100, 100], [50, 75], [100, 75]],
            [[25, 25], [25, 125], [125, 25], [125, 125], [50, 50], [50, 100], [100, 50], [100, 100], [50, 75], [100, 75], [75, 75]],
            [[25, 25], [25, 125], [125, 25], [125, 125], [50, 50], [50, 100], [100, 50], [100, 100], [50, 75], [100, 75], [75, 50], [75, 100]],
            [[25, 25], [25, 125], [125, 25], [125, 125], [50, 50], [50, 100], [100, 50], [100, 100], [50, 75], [100, 75], [75, 50], [75, 100], [75, 75]],
            [[25, 25], [25, 125], [125, 25], [125, 125], [50, 50], [50, 100], [100, 50], [100, 100], [50, 75], [100, 75], [75, 50], [75, 100], [25, 75], [125, 75]],
            [[25, 25], [25, 125], [125, 25], [125, 125], [50, 50], [50, 100], [100, 50], [100, 100], [50, 75], [100, 75], [75, 50], [75, 100], [25, 75], [125, 75], [75,75]],
            [[25, 25], [25, 125], [125, 25], [125, 125], [50, 50], [50, 100], [100, 50], [100, 100], [50, 75], [100, 75], [75, 50], [75, 100], [25, 75], [125, 75], [75, 25], [75, 125]],
            [[25, 25], [25, 125], [125, 25], [125, 125], [50, 50], [50, 100], [100, 50], [100, 100], [50, 75], [100, 75], [75, 50], [75, 100], [25, 75], [125, 75], [75, 25], [75, 125], [75, 75]],
            [[25, 25], [25, 125], [125, 25], [125, 125], [50, 50], [50, 100], [100, 50], [100, 100], [50, 75], [100, 75], [75, 50], [75, 100], [25, 50], [25, 100], [125, 50], [125, 100], [75, 25], [75, 125]],
            [[25, 25], [25, 125], [125, 25], [125, 125], [50, 50], [50, 100], [100, 50], [100, 100], [50, 75], [100, 75], [75, 50], [75, 100], [25, 50], [25, 100], [125, 50], [125, 100], [75, 25], [75, 125], [75,75]],
            [[25, 25], [25, 125], [125, 25], [125, 125], [50, 50], [50, 100], [100, 50], [100, 100], [50, 75], [100, 75], [75, 50], [75, 100], [25, 50], [25, 100], [125, 50], [125, 100], [50, 25], [50, 125], [100, 25], [100, 125]]
        ];

        private int $faceValue = 0;

        public static function setNumberSides(int $pNumberSides) {
            self::$numberSides = $pNumberSides;
        }

        public function rollDice() {
            $this->faceValue = random_int(1, self::$numberSides);
        }

        public function getFaceValue() {
            return $this->faceValue;
        }

        public function getFaceSVG(int $pSize = 100) {
            $returnString = '<svg xmlns="http://www.w3.org/2000/svg" width="' . $pSize . '" height="' . $pSize . '" style="border: 1px solid black;" viewBox="0 0 150 150">';

            foreach (self::$dotPositions[$this->faceValue] as $position) {
                $x = $position[0];
                $y = $position[1];
                $returnString .= '<circle cx="'.$x.'" cy="'.$y.'" r="7.5" fill="black"/>';
            }

            $returnString .= '</svg>';

            return $returnString;
        }
    }
?>